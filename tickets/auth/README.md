# Сервис авторизации продажи билетов

## Описание
Сервис предназначен для регистрации и авторизации пользователей в системе покупки билетов. В качестве удостоверения
используются JWT-токены, подписанные при помощи алгоритма HS256. Пароли пользователей хешируются алгоритмом PBKDF2 и
не хранятся в открытом виде.

## Переменные окружения
Для запуска приложения необходимо задать следующие переменные окружения в файле .env:
1. JWT_SECRET - секретный ключ подписи токенов
2. PASSWORDS_SECRET - секретный ключ, который добавляется в соль для хеширования паролей
3. DEBUG - включает режим разработки, по умолчанию false. Только в режиме разработки доступна автодокументация.

Для генерации токенов можно использовать команду `openssl rand -hex 32`.

Пример заполнения файла .env:
```bash
JWT_SECRET=qwerty1234
PASSWORDS_SECRET=4321ytrewq
DEBUG=true
```
Шаблон файла расположен в файле .env.example, .env должен находиться в той же директории.

## Эндпоинты
1. Регистрация пользователя по переданным никнейму, почте и паролю. Проверяется сложность пароля, существование
пользователя с переданныым адресом. В ответ отправляется объект созданного пользователя.
2. Вход пользователя по переданным почте и паролю. При совпадении данных возвращаются JWT-токен и время окончания срока
его действия.
3. Получение данных текущего пользователя. По данным токена определяется пользователь, если данные корректны - 
возвращается объект пользователя.

## Использование
При запуске при необходимости создаются необходимые для работы приложения таблицы. По умолчанию приложение доступно по
адресу [http://localhost:5000](http://localhost:5000), документация (при включенном режиме разработки) доступна по
адресу [http://localhost:5000/docs](http://localhost:5000/docs). Из документации можно скачать OpenAPI-спецификацию.